(self.webpackChunkloyal_friends=self.webpackChunkloyal_friends||[]).push([[543],{6543:(e,t,o)=>{"use strict";o.r(t),o.d(t,{CorporateCutomersModule:()=>ne});var n=o(1116),r=o(5366),u=o(2693),s=o(529);let i=(()=>{class e{constructor(e){this.http=e,this.apiServer=s.N.apiUrl}getCorporateLookups(){return this.http.get(this.apiServer+"Lookup/GetCorporateLookups/")}addCorporateCustomer(e,t){let o=new u.LE;return o=o.append("UserID",t),this.http.post(this.apiServer+"Corporate/AddCorporate",e,{params:o})}getCorporateCustomerList(e,t,o,n,r){let s=new u.LE;return e&&(s=s.append("UserID",e)),t&&(s=s.append("UserRole",t)),o&&(s=s.append("Page",o)),n&&(s=s.append("PageLimit",n)),r&&(s=s.append("SearchText",r)),this.http.get(this.apiServer+"Corporate/CorporateList/",{params:s})}editCorporateCustomer(e){let t=new u.LE;return t=t.append("CorporateID",e),this.http.get(this.apiServer+"Corporate/EditCorporate/",{params:t})}UpdateCurrentCorporateCustomer(e,t,o){let n=new u.LE;return n=n.append("UserID",t),n=n.append("CorporateID",o),this.http.put(this.apiServer+"Corporate/EditCorporate/",e,{params:n})}getCorporateCustomerInfo(e){let t=new u.LE;return t=t.append("CorporateID",e),this.http.get(this.apiServer+"Corporate/CorporateDetails/",{params:t})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(u.eN))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var a=o(3337),p=o(8936),l=o(9743);function m(e,t){1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"th",13),r._uU(2,"comment"),r.qZA(),r.TgZ(3,"th",13),r._uU(4," by "),r.qZA(),r.TgZ(5,"th",13),r._uU(6," on"),r.qZA(),r.qZA())}function c(e,t){if(1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"td",13),r._uU(2),r.qZA(),r.TgZ(3,"td",13),r._uU(4),r.qZA(),r.TgZ(5,"td",13),r._uU(6),r.qZA(),r.qZA()),2&e){const e=t.$implicit;r.xp6(2),r.Oqu(e.Comment),r.xp6(2),r.Oqu(e.CreatedBy),r.xp6(2),r.Oqu(e.CreatedOn)}}let d=(()=>{class e{constructor(e,t){this.corporateApiService=e,this.route=t,this.corpotareCustomerInfo={},this.corporateCustomerHistory=[]}ngOnInit(){this.getInfoForCoprpCust()}getInfoForCoprpCust(){this.corporateApiService.getCorporateCustomerInfo(this.route.snapshot.params.id).subscribe(e=>{this.corpotareCustomerInfo=e.Corporate,this.corporateCustomerHistory=e.History,console.log(this.corpotareCustomerInfo),console.log(e.History)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(i),r.Y36(a.gz))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-corp-cust-info"]],decls:103,vars:18,consts:[[1,"main"],[1,"container"],[1,"d-flex","justify-content-center","align-items-center"],[1,"text-success"],[1,"row","justify-content-lg-center"],[1,"col-md-4","col-sm-6","col-12"],[1,"d-flex","justify-content-between"],[1,"d-inline-block","info","m-2","p-2","cust-span"],[1,"main-body"],[1,"m-3"],["scrollHeight","400px",3,"value","scrollable"],["pTemplate","header"],["pTemplate","body"],[2,"min-width","200px"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"h3",3),r._uU(4),r.qZA(),r.qZA(),r._UZ(5,"hr"),r.TgZ(6,"div",4),r.TgZ(7,"div",5),r.TgZ(8,"div",6),r.TgZ(9,"span",7),r._uU(10," Cutomer name :"),r.qZA(),r.TgZ(11,"span",7),r._uU(12),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"div",5),r.TgZ(14,"div",6),r.TgZ(15,"span",7),r._uU(16," CustomerType :"),r.qZA(),r.TgZ(17,"span",7),r._uU(18),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"div",5),r.TgZ(20,"div",6),r.TgZ(21,"span",7),r._uU(22," AccountType :"),r.qZA(),r.TgZ(23,"span",7),r._uU(24),r.qZA(),r.qZA(),r.qZA(),r.TgZ(25,"div",5),r.TgZ(26,"div",6),r.TgZ(27,"span",7),r._uU(28," Comment :"),r.qZA(),r.TgZ(29,"span",7),r._uU(30),r.qZA(),r.qZA(),r.qZA(),r.TgZ(31,"div",5),r.TgZ(32,"div",6),r.TgZ(33,"span",7),r._uU(34," CompanyAddress :"),r.qZA(),r.TgZ(35,"span",7),r._uU(36),r.qZA(),r.qZA(),r.qZA(),r.TgZ(37,"div",5),r.TgZ(38,"div",6),r.TgZ(39,"span",7),r._uU(40," CompanyName :"),r.qZA(),r.TgZ(41,"span",7),r._uU(42),r.qZA(),r.qZA(),r.qZA(),r.TgZ(43,"div",5),r.TgZ(44,"div",6),r.TgZ(45,"span",7),r._uU(46," CompanyType :"),r.qZA(),r.TgZ(47,"span",7),r._uU(48),r.qZA(),r.qZA(),r.qZA(),r.TgZ(49,"div",5),r.TgZ(50,"div",6),r.TgZ(51,"span",7),r._uU(52," CreatedByName :"),r.qZA(),r.TgZ(53,"span",7),r._uU(54),r.qZA(),r.qZA(),r.qZA(),r.TgZ(55,"div",5),r.TgZ(56,"div",6),r.TgZ(57,"span",7),r._uU(58," CreatedOn :"),r.qZA(),r.TgZ(59,"span",7),r._uU(60),r.qZA(),r.qZA(),r.qZA(),r.TgZ(61,"div",5),r.TgZ(62,"div",6),r.TgZ(63,"span",7),r._uU(64," CustomerStatus :"),r.qZA(),r.TgZ(65,"span",7),r._uU(66),r.qZA(),r.qZA(),r.qZA(),r.TgZ(67,"div",5),r.TgZ(68,"div",6),r.TgZ(69,"span",7),r._uU(70," LinesNumber :"),r.qZA(),r.TgZ(71,"span",7),r._uU(72),r.qZA(),r.qZA(),r.qZA(),r.TgZ(73,"div",5),r.TgZ(74,"div",6),r.TgZ(75,"span",7),r._uU(76," Mobile :"),r.qZA(),r.TgZ(77,"span",7),r._uU(78),r.qZA(),r.qZA(),r.qZA(),r.TgZ(79,"div",5),r.TgZ(80,"div",6),r.TgZ(81,"span",7),r._uU(82," ModifiedByName :"),r.qZA(),r.TgZ(83,"span",7),r._uU(84),r.qZA(),r.qZA(),r.qZA(),r.TgZ(85,"div",5),r.TgZ(86,"div",6),r.TgZ(87,"span",7),r._uU(88," ModifiedOn :"),r.qZA(),r.TgZ(89,"span",7),r._uU(90),r.qZA(),r.qZA(),r.qZA(),r.TgZ(91,"div",5),r.TgZ(92,"div",6),r.TgZ(93,"span",7),r._uU(94," RequestType :"),r.qZA(),r.TgZ(95,"span",7),r._uU(96),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(97,"div",8),r.TgZ(98,"h3",9),r._uU(99,"History"),r.qZA(),r.TgZ(100,"p-table",10),r.YNc(101,m,7,0,"ng-template",11),r.YNc(102,c,7,3,"ng-template",12),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(4),r.hij("corporate info : ",t.corpotareCustomerInfo.Name,""),r.xp6(8),r.Oqu(t.corpotareCustomerInfo.Name),r.xp6(6),r.Oqu(t.corpotareCustomerInfo.AccountNumber),r.xp6(6),r.Oqu(t.corpotareCustomerInfo.AccountType),r.xp6(6),r.Oqu(t.corpotareCustomerInfo.Comment),r.xp6(6),r.Oqu(t.corpotareCustomerInfo.CompanyAddress),r.xp6(6),r.Oqu(t.corpotareCustomerInfo.CompanyName),r.xp6(6),r.Oqu(t.corpotareCustomerInfo.CompanyType),r.xp6(6),r.Oqu(t.corpotareCustomerInfo.CreatedByName),r.xp6(6),r.Oqu(t.corpotareCustomerInfo.CreatedOn),r.xp6(6),r.Oqu(t.corpotareCustomerInfo.CustomerStatus),r.xp6(6),r.Oqu(t.corpotareCustomerInfo.LinesNumber),r.xp6(6),r.Oqu(t.corpotareCustomerInfo.Mobile),r.xp6(6),r.Oqu(t.corpotareCustomerInfo.ModifiedByName),r.xp6(6),r.Oqu(t.corpotareCustomerInfo.ModifiedOn),r.xp6(6),r.Oqu(t.corpotareCustomerInfo.RequestType),r.xp6(4),r.Q6J("value",t.corporateCustomerHistory)("scrollable",!0))},directives:[p.iA,l.jx],styles:[""]}),e})();var Z=o(1041),y=o(7889);function g(e,t){1&e&&(r.TgZ(0,"th"),r._uU(1,"User Name"),r.qZA())}function T(e,t){1&e&&(r.TgZ(0,"th"),r._uU(1,"Edit"),r.qZA())}function C(e,t){if(1&e&&(r.TgZ(0,"tr"),r.YNc(1,g,2,0,"th",8),r.TgZ(2,"th"),r._uU(3,"Date"),r.qZA(),r.YNc(4,T,2,0,"th",8),r.TgZ(5,"th"),r._uU(6,"info"),r.qZA(),r.TgZ(7,"th"),r._uU(8,"Account Number"),r.qZA(),r.TgZ(9,"th"),r._uU(10,"Customer Name"),r.qZA(),r.TgZ(11,"th"),r._uU(12,"Mobile"),r.qZA(),r.TgZ(13,"th"),r._uU(14,"company type"),r.qZA(),r.TgZ(15,"th"),r._uU(16,"account type"),r.qZA(),r.TgZ(17,"th",9),r._uU(18," Status "),r._UZ(19,"p-sortIcon",10),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf","Admin"===e.UserRole),r.xp6(3),r.Q6J("ngIf","Admin"===e.UserRole)}}const A=function(e){return["../edit",e]},q=function(e){return["../info",e]};function h(e,t){if(1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r.TgZ(6,"button",11),r._uU(7,"Edit "),r.qZA(),r.qZA(),r.TgZ(8,"td"),r.TgZ(9,"button",12),r._uU(10,"info "),r.qZA(),r.qZA(),r.TgZ(11,"td"),r._uU(12),r.qZA(),r.TgZ(13,"td"),r._uU(14),r.qZA(),r.TgZ(15,"td"),r._uU(16),r.qZA(),r.TgZ(17,"td"),r._uU(18),r.qZA(),r.TgZ(19,"td"),r._uU(20),r.qZA(),r.TgZ(21,"td"),r._uU(22),r.qZA(),r.qZA()),2&e){const e=t.$implicit;r.xp6(2),r.Oqu(null==e?null:e.CreatedByName),r.xp6(2),r.Oqu(null==e?null:e.CreatedOn),r.xp6(2),r.Q6J("routerLink",r.VKq(10,A,e.ID)),r.xp6(3),r.Q6J("routerLink",r.VKq(12,q,e.ID)),r.xp6(3),r.Oqu(null==e?null:e.AccountNumber),r.xp6(2),r.Oqu(null==e?null:e.Name),r.xp6(2),r.Oqu(null==e?null:e.Mobile),r.xp6(2),r.Oqu(null==e?null:e.CompanyType),r.xp6(2),r.Oqu(null==e?null:e.AccountType),r.xp6(2),r.Oqu(null==e?null:e.Status)}}function f(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",13),r.TgZ(1,"p-paginator",14),r.NdJ("onPageChange",function(t){return r.CHM(e),r.oxw().onPageChange(t)}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(1),r.Q6J("rows",e.PageLimit)("totalRecords",e.totalCount)("showJumpToPageDropdown",!0)("showPageLinks",!1)}}const v=function(){return["name","country","Status"]};let N=(()=>{class e{constructor(e,t){var o,n;this.corporateApiService=e,this.cdr=t,this.corporateCustomer=[],this.UserID=null===(o=JSON.parse(localStorage.getItem("user")||"{}"))||void 0===o?void 0:o.ID,this.UserRole=null===(n=JSON.parse(localStorage.getItem("user")||"{}"))||void 0===n?void 0:n.Role,this.Page=1,this.PageLimit=20,this.unsubscribe=[]}ngOnInit(){this.getCustomerForCorporate()}getCustomerForCorporate(){this.corporateApiService.getCorporateCustomerList(this.UserID,this.UserRole,this.Page,this.PageLimit,this.SearchText).subscribe(e=>{this.corporateCustomer=e.Corporates,this.totalCount=e.TotalCount,this.cdr.detectChanges()})}onPageChange(e){this.Page=e.page+1,this.getCustomerForCorporate()}onSearch(){this.getCustomerForCorporate()}ngOnDestroy(){this.unsubscribe.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(i),r.Y36(r.sBO))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-corp-customer-list"]],decls:10,vars:9,consts:[[1,"card"],[1,"mt-3"],[1,"m-2","w-50"],["type","text","name","search","id","","placeholder","serach by account number or mobile",1,"form-control",3,"ngModel","ngModelChange","keyup.Enter"],["scrollHeight","500px",3,"value","scrollable","rowHover","rows","filterDelay","globalFilterFields"],["pTemplate","header"],["pTemplate","body"],["class","col-10",4,"ngIf"],[4,"ngIf"],["pSortableColumn","customerStatus"],["field","CustomerStatus"],[1,"btn","btn-primary",3,"routerLink"],[1,"btn","btn-success",3,"routerLink"],[1,"col-10"],[3,"rows","totalRecords","showJumpToPageDropdown","showPageLinks","onPageChange"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"h2",1),r._uU(2,"corporate customer list"),r.qZA(),r.TgZ(3,"div",2),r.TgZ(4,"input",3),r.NdJ("ngModelChange",function(e){return t.SearchText=e})("keyup.Enter",function(){return t.onSearch()}),r.qZA(),r.qZA(),r.TgZ(5,"p-table",4),r._uU(6,"> "),r.YNc(7,C,20,2,"ng-template",5),r.YNc(8,h,23,14,"ng-template",6),r.qZA(),r.YNc(9,f,2,4,"div",7),r.qZA()),2&e&&(r.xp6(4),r.Q6J("ngModel",t.SearchText),r.xp6(1),r.Q6J("value",t.corporateCustomer)("scrollable",!0)("rowHover",!0)("rows",10)("filterDelay",0)("globalFilterFields",r.DdM(8,v)),r.xp6(4),r.Q6J("ngIf",t.totalCount>0))},directives:[Z.Fj,Z.JJ,Z.On,p.iA,l.jx,n.O5,p.lQ,p.fz,a.rH,y.D],styles:[""]}),e})();var b=o(7157);function I(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," this field is required "),r.qZA())}function U(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," this field is required "),r.qZA())}function _(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," this field must be number "),r.qZA())}function x(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," you have to add CompanyName "),r.qZA())}function S(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," you have to add CompanyAddress "),r.qZA())}function D(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," you have to add CompanyType "),r.qZA())}function w(e,t){if(1&e&&(r.TgZ(0,"option",23),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.Q6J("value",e.ID),r.xp6(1),r.hij(" ",null==e?null:e.Name," ")}}function J(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," you have to add CompanyType "),r.qZA())}function L(e,t){if(1&e&&(r.TgZ(0,"option",23),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.Q6J("value",e.ID),r.xp6(1),r.hij(" ",null==e?null:e.Name," ")}}function O(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," you have to add CompanyType "),r.qZA())}function F(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," this field is required "),r.qZA())}function k(e,t){if(1&e&&(r.TgZ(0,"option",23),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.Q6J("value",e.ID),r.xp6(1),r.hij(" ",null==e?null:e.Name," ")}}function Y(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," you have to add RequestType "),r.qZA())}function R(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," this field is required "),r.qZA())}function Q(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," this field is required "),r.qZA())}function E(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," this field is required "),r.qZA())}function j(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," this field must be number "),r.qZA())}function B(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," you have to add CompanyName "),r.qZA())}function M(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," you have to add CompanyAddress "),r.qZA())}function P(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," you have to add CompanyType "),r.qZA())}function H(e,t){if(1&e&&(r.TgZ(0,"option",22),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.Q6J("value",e.ID),r.xp6(1),r.hij(" ",null==e?null:e.Name," ")}}function z(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," you have to add CompanyType "),r.qZA())}function G(e,t){if(1&e&&(r.TgZ(0,"option",22),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.Q6J("value",e.ID),r.xp6(1),r.hij(" ",null==e?null:e.Name," ")}}function $(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," you have to add CompanyType "),r.qZA())}function K(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," this field is required "),r.qZA())}function V(e,t){if(1&e&&(r.TgZ(0,"option",22),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.Q6J("value",e.ID),r.xp6(1),r.hij(" ",null==e?null:e.Name," ")}}function X(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," you have to add RequestType "),r.qZA())}function W(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1," this field is required "),r.qZA())}const ee=[{path:"add-corp-cust",component:(()=>{class e{constructor(e,t,o){var n,r;this.corporateApiService=e,this.cdr=t,this.messageService=o,this.UserID=null===(n=JSON.parse(localStorage.getItem("user")||"{}"))||void 0===n?void 0:n.ID,this.UserRole=null===(r=JSON.parse(localStorage.getItem("user")||"{}"))||void 0===r?void 0:r.Role,this.AccountType=[],this.customerStatus=[],this.RequestTypes=[],this.tomorrow=new Date,this.initFormControl(),this.createForm()}initFormControl(){this.AccountNumber=new Z.NI("",Z.kI.required),this.name=new Z.NI("",Z.kI.required),this.mobile=new Z.NI("",Z.kI.required),this.CompanyName=new Z.NI("",Z.kI.required),this.CompanyAddress=new Z.NI("",Z.kI.required),this.CompanyType=new Z.NI("",Z.kI.required),this.AccountTypeID=new Z.NI("",Z.kI.required),this.CustomerStatusID=new Z.NI("",Z.kI.required),this.LinesNumber=new Z.NI("",Z.kI.required),this.RequestTypeID=new Z.NI("",Z.kI.required),this.Comment=new Z.NI("",Z.kI.required)}createForm(){this.corporateForm=new Z.cw({AccountNumber:this.AccountNumber,name:this.name,mobile:this.mobile,CompanyName:this.CompanyName,CompanyAddress:this.CompanyAddress,CompanyType:this.CompanyType,AccountTypeID:this.AccountTypeID,CustomerStatusID:this.CustomerStatusID,LinesNumber:this.LinesNumber,RequestTypeID:this.RequestTypeID,Comment:this.Comment})}onSubmit(){var e,t;null===(e=document.getElementById("button"))||void 0===e||e.setAttribute("disabled","true"),this.corporateApiService.addCorporateCustomer(this.corporateForm.value,this.UserID).subscribe(e=>{"successfully"===e.status?(this.corporateForm.reset(),this.addCustomerSuucessFuly()):this.ErrorInAddeddCustomer()}),null===(t=document.getElementById("button"))||void 0===t||t.removeAttribute("disabled")}ngOnInit(){this.getLookupsForCorporate()}addCustomerSuucessFuly(){this.messageService.add({severity:"success",summary:"you added Customer Successfly",detail:"\u062a\u0645 \u0627\u0636\u0627\u0641\u0629 \u0639\u0645\u064a\u0644 \u0628\u0646\u062c\u0627\u062d"})}ErrorInAddeddCustomer(){this.messageService.add({severity:"error",summary:"Customer not Added Yet",detail:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0636\u0627\u0641\u0629 \u0639\u0645\u064a\u0644 \u0628\u0639\u062f"})}getLookupsForCorporate(){this.corporateApiService.getCorporateLookups().subscribe(e=>{this.AccountType=e.Lookups.AccountType,this.customerStatus=e.Lookups.CustomerStatus,this.RequestTypes=e.Lookups.RequestType,this.cdr.detectChanges(),console.log(this.AccountType)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(i),r.Y36(r.sBO),r.Y36(l.ez))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-add-corp-cutomer"]],features:[r._Bn([l.ez])],decls:78,vars:16,consts:[[1,"card-body"],[1,"choose-cust"],["action","",3,"formGroup","ngSubmit"],[1,"row","justify-content-lg-center"],[1,"col-md-4","col-sm-6","col-12"],[1,"mt-4"],[1,"cust-label"],["type","text","formControlName","AccountNumber",1,"form-control"],[4,"ngIf"],["type","text","formControlName","name",1,"form-control"],["type","number","formControlName","mobile","name","mobile",1,"form-control"],["type","text","formControlName","CompanyName","name","CompanyName",1,"form-control"],["type","text","formControlName","CompanyAddress","name","CompanyAddress",1,"form-control"],["type","text","formControlName","CompanyType","name","CompanyType",1,"form-control"],["type","text","autofocus","","name","AccountTypeID","formControlName","AccountTypeID",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["type","text","autofocus","","name","CustomerStatusID","formControlName","CustomerStatusID",1,"form-select"],["type","text","formControlName","LinesNumber",1,"form-control"],["type","text","autofocus","","name","RequestTypeID","formControlName","RequestTypeID",1,"form-select"],["type","text","formControlName","Comment","name","Comment",1,"form-control"],[1,"m-auto","text-center"],["id","button","type","submit","id","button",1,"d-inline-block","mt-4","text-center","btn","btn-primary",3,"disabled"],["position","bottom-center"],[3,"value"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"span",1),r._uU(2,"Add Corporate cutomer"),r.qZA(),r.TgZ(3,"form",2),r.NdJ("ngSubmit",function(){return t.onSubmit()}),r.TgZ(4,"div",3),r.TgZ(5,"div",4),r.TgZ(6,"div",5),r.TgZ(7,"label",6),r._uU(8,"Account Number"),r.qZA(),r._UZ(9,"input",7),r.YNc(10,I,2,0,"span",8),r.qZA(),r.qZA(),r.TgZ(11,"div",4),r.TgZ(12,"div",5),r.TgZ(13,"label",6),r._uU(14,"Cutomer Name"),r.qZA(),r._UZ(15,"input",9),r.YNc(16,U,2,0,"span",8),r.qZA(),r.qZA(),r.TgZ(17,"div",4),r.TgZ(18,"div",5),r.TgZ(19,"label",6),r._uU(20,"mobile"),r.qZA(),r._UZ(21,"input",10),r.YNc(22,_,2,0,"span",8),r.qZA(),r.qZA(),r.TgZ(23,"div",4),r.TgZ(24,"div",5),r.TgZ(25,"label",6),r._uU(26,"CompanyName"),r.qZA(),r._UZ(27,"input",11),r.YNc(28,x,2,0,"span",8),r.qZA(),r.qZA(),r.TgZ(29,"div",4),r.TgZ(30,"div",5),r.TgZ(31,"label",6),r._uU(32,"CompanyAddress"),r.qZA(),r._UZ(33,"input",12),r.YNc(34,S,2,0,"span",8),r.qZA(),r.qZA(),r.TgZ(35,"div",4),r.TgZ(36,"div",5),r.TgZ(37,"label",6),r._uU(38,"CompanyType"),r.qZA(),r._UZ(39,"input",13),r.YNc(40,D,2,0,"span",8),r.qZA(),r.qZA(),r.TgZ(41,"div",4),r.TgZ(42,"div",5),r.TgZ(43,"label",6),r._uU(44,"Account Type"),r.qZA(),r.TgZ(45,"select",14),r.YNc(46,w,2,2,"option",15),r.qZA(),r.YNc(47,J,2,0,"span",8),r.qZA(),r.qZA(),r.TgZ(48,"div",4),r.TgZ(49,"div",5),r.TgZ(50,"label",6),r._uU(51,"Status"),r.qZA(),r.TgZ(52,"select",16),r.YNc(53,L,2,2,"option",15),r.qZA(),r.YNc(54,O,2,0,"span",8),r.qZA(),r.qZA(),r.TgZ(55,"div",4),r.TgZ(56,"div",5),r.TgZ(57,"label",6),r._uU(58,"Lines Number"),r.qZA(),r._UZ(59,"input",17),r.YNc(60,F,2,0,"span",8),r.qZA(),r.qZA(),r.TgZ(61,"div",4),r.TgZ(62,"div",5),r.TgZ(63,"label",6),r._uU(64,"Request Type"),r.qZA(),r.TgZ(65,"select",18),r.YNc(66,k,2,2,"option",15),r.qZA(),r.YNc(67,Y,2,0,"span",8),r.qZA(),r.qZA(),r.TgZ(68,"div",4),r.TgZ(69,"div",5),r.TgZ(70,"label",6),r._uU(71,"Add Comment"),r.qZA(),r._UZ(72,"textarea",19),r.YNc(73,R,2,0,"span",8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(74,"div",20),r.TgZ(75,"button",21),r._uU(76," Add corporate Cutomer "),r.qZA(),r.qZA(),r.qZA(),r._UZ(77,"p-toast",22),r.qZA()),2&e&&(r.xp6(3),r.Q6J("formGroup",t.corporateForm),r.xp6(7),r.Q6J("ngIf",(null==t.AccountNumber?null:t.AccountNumber.invalid)&&!(null!=t.AccountNumber&&t.AccountNumber.touched)&&!(null!=t.AccountNumber&&t.AccountNumber.dirty)),r.xp6(6),r.Q6J("ngIf",(null==t.name?null:t.name.invalid)&&!(null!=t.name&&t.name.touched)&&!(null!=t.name&&t.name.dirty)),r.xp6(6),r.Q6J("ngIf",(null==t.mobile?null:t.mobile.invalid)&&(null==t.mobile?null:t.mobile.touched)&&!(null!=t.mobile&&t.mobile.dirty)),r.xp6(6),r.Q6J("ngIf",(null==t.CompanyName?null:t.CompanyName.invalid)&&(null==t.CompanyName?null:t.CompanyName.touched)&&!(null!=t.CompanyName&&t.CompanyName.dirty)),r.xp6(6),r.Q6J("ngIf",(null==t.CompanyAddress?null:t.CompanyAddress.invalid)&&(null==t.CompanyAddress?null:t.CompanyAddress.touched)&&!(null!=t.CompanyAddress&&t.CompanyAddress.dirty)),r.xp6(6),r.Q6J("ngIf",(null==t.CompanyType?null:t.CompanyType.invalid)&&(null==t.CompanyType?null:t.CompanyType.touched)&&!(null!=t.CompanyType&&t.CompanyType.dirty)),r.xp6(6),r.Q6J("ngForOf",t.AccountType),r.xp6(1),r.Q6J("ngIf",(null==t.CompanyType?null:t.CompanyType.invalid)&&(null==t.CompanyType?null:t.CompanyType.touched)&&!(null!=t.CompanyType&&t.CompanyType.dirty)),r.xp6(6),r.Q6J("ngForOf",t.customerStatus),r.xp6(1),r.Q6J("ngIf",(null==t.CompanyType?null:t.CompanyType.invalid)&&(null==t.CompanyType?null:t.CompanyType.touched)&&!(null!=t.CompanyType&&t.CompanyType.dirty)),r.xp6(6),r.Q6J("ngIf",(null==t.LinesNumber?null:t.LinesNumber.invalid)&&!(null!=t.LinesNumber&&t.LinesNumber.touched)&&!(null!=t.LinesNumber&&t.LinesNumber.dirty)),r.xp6(6),r.Q6J("ngForOf",t.RequestTypes),r.xp6(1),r.Q6J("ngIf",(null==t.RequestTypeID?null:t.RequestTypeID.invalid)&&(null==t.RequestTypeID?null:t.RequestTypeID.touched)&&!(null!=t.RequestTypeID&&t.RequestTypeID.dirty)),r.xp6(6),r.Q6J("ngIf",(null==t.Comment?null:t.Comment.invalid)&&(null==t.Comment?null:t.Comment.touched)&&!(null!=t.Comment&&t.Comment.dirty)),r.xp6(2),r.Q6J("disabled",null==t.corporateForm?null:t.corporateForm.invalid))},directives:[Z._Y,Z.JL,Z.sg,Z.Fj,Z.JJ,Z.u,n.O5,Z.wV,Z.EJ,n.sg,b.FN,Z.YN,Z.Kr],styles:[""]}),e})()},{path:"corp-cust-list",component:N},{path:"edit/:id",component:(()=>{class e{constructor(e,t,o,n){var r,u;this.corporateApiService=e,this.route=t,this.messageService=o,this.router=n,this.UserID=null===(r=JSON.parse(localStorage.getItem("user")||"{}"))||void 0===r?void 0:r.ID,this.UserRole=null===(u=JSON.parse(localStorage.getItem("user")||"{}"))||void 0===u?void 0:u.Role,this.page=1,this.PageLimit=10,this.AccountType=[],this.customerStatus=[],this.RequestTypes=[],this.unsubscribe=[],this.initFormGroup(),this.createForm()}initFormGroup(){this.AccountNumber=new Z.NI("",Z.kI.required),this.name=new Z.NI("",Z.kI.required),this.mobile=new Z.NI("",Z.kI.required),this.CompanyName=new Z.NI("",Z.kI.required),this.CompanyAddress=new Z.NI("",Z.kI.required),this.CompanyType=new Z.NI("",Z.kI.required),this.AccountTypeID=new Z.NI("",Z.kI.required),this.CustomerStatusID=new Z.NI("",Z.kI.required),this.LinesNumber=new Z.NI("",Z.kI.required),this.RequestTypeID=new Z.NI("",Z.kI.required),this.Comment=new Z.NI("",Z.kI.required)}createForm(){this.editCorporateForm=new Z.cw({AccountNumber:this.AccountNumber,name:this.name,mobile:this.mobile,CompanyName:this.CompanyName,CompanyAddress:this.CompanyAddress,CompanyType:this.CompanyType,AccountTypeID:this.AccountTypeID,CustomerStatusID:this.CustomerStatusID,LinesNumber:this.LinesNumber,RequestTypeID:this.RequestTypeID,Comment:this.Comment})}getLookupsForCorporate(){this.corporateApiService.getCorporateLookups().subscribe(e=>{this.AccountType=e.Lookups.AccountType,this.customerStatus=e.Lookups.CustomerStatus,this.RequestTypes=e.Lookups.RequestType,console.log(this.AccountType)})}ngOnInit(){this.CorporateID=this.route.snapshot.paramMap.get("id"),this.getLookupsForCorporate(),this.corporateApiService.editCorporateCustomer(+this.CorporateID).subscribe(e=>{this.editCorporateForm=new Z.cw({AccountNumber:new Z.NI(e.Corporate.AccountNumber),name:new Z.NI(e.Corporate.Name),mobile:new Z.NI(e.Corporate.Mobile),CompanyName:new Z.NI(e.Corporate.CompanyName),CompanyAddress:new Z.NI(e.Corporate.CompanyAddress),CompanyType:new Z.NI(e.Corporate.CompanyType),AccountTypeID:new Z.NI(e.Corporate.AccountTypeID),CustomerStatusID:new Z.NI(e.Corporate.CustomerStatusID),LinesNumber:new Z.NI(e.Corporate.LinesNumber),RequestTypeID:new Z.NI(e.Corporate.RequestTypeID),Comment:new Z.NI(e.Corporate.Comment)})})}updateCurrentCutomerForm(){var e;null===(e=document.getElementById("button"))||void 0===e||e.setAttribute("disabled","true"),this.corporateApiService.UpdateCurrentCorporateCustomer(this.editCorporateForm.value,this.UserID,this.CorporateID).subscribe(e=>{var t;"successfully"===(null==e?void 0:e.status)?(this.editedCutomer(),setTimeout(()=>{this.router.navigate(["/corp-cust/corp-cust-list"])},2500)):this.ErrorInEditedCustomer(),null===(t=document.getElementById("button"))||void 0===t||t.removeAttribute("disabled")})}editedCutomer(){this.messageService.add({severity:"success",summary:"you modified Customer Successfly",detail:"\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0639\u0645\u064a\u0644 \u0628\u0646\u062c\u0627\u062d"})}ErrorInEditedCustomer(){this.messageService.add({severity:"error",summary:"Customer not modifided Yet",detail:"\u0644\u0645 \u064a\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0639\u0645\u064a\u0644 \u0628\u0639\u062f"})}ngOnDestroy(){this.unsubscribe.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(i),r.Y36(a.gz),r.Y36(l.ez),r.Y36(a.F0))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-edit-corp-cust"]],features:[r._Bn([l.ez])],decls:79,vars:16,consts:[[1,"card-body"],["action","",3,"formGroup","ngSubmit"],[1,"row","justify-content-lg-center"],[1,"col-md-4","col-sm-6","col-12"],[1,"mt-4"],[1,"cust-label"],["type","text","formControlName","AccountNumber",1,"form-control"],[4,"ngIf"],["type","text","formControlName","name",1,"form-control"],["type","number","formControlName","mobile","name","mobile",1,"form-control"],["type","text","formControlName","CompanyName","name","CompanyName",1,"form-control"],["type","text","formControlName","CompanyAddress","name","CompanyAddress",1,"form-control"],["type","text","formControlName","CompanyType","name","CompanyType",1,"form-control"],["type","text","autofocus","","name","AccountTypeID","formControlName","AccountTypeID",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["type","text","autofocus","","name","CustomerStatusID","formControlName","CustomerStatusID",1,"form-select"],["type","text","formControlName","LinesNumber",1,"form-control"],["type","text","autofocus","","name","RequestTypeID","formControlName","RequestTypeID",1,"form-select"],["type","text","formControlName","Comment","name","Comment",1,"form-control"],[1,"m-auto","text-center"],["type","submit","id","button",1,"d-inline-block","mt-4","text-center","btn","btn-primary",3,"disabled"],["position","bottom-center"],[3,"value"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"h2"),r._uU(2,"update Corporate cutomer"),r.qZA(),r._UZ(3,"hr"),r.TgZ(4,"form",1),r.NdJ("ngSubmit",function(){return t.updateCurrentCutomerForm()}),r.TgZ(5,"div",2),r.TgZ(6,"div",3),r.TgZ(7,"div",4),r.TgZ(8,"label",5),r._uU(9,"Account Number"),r.qZA(),r._UZ(10,"input",6),r.YNc(11,Q,2,0,"span",7),r.qZA(),r.qZA(),r.TgZ(12,"div",3),r.TgZ(13,"div",4),r.TgZ(14,"label",5),r._uU(15,"cutomer name"),r.qZA(),r._UZ(16,"input",8),r.YNc(17,E,2,0,"span",7),r.qZA(),r.qZA(),r.TgZ(18,"div",3),r.TgZ(19,"div",4),r.TgZ(20,"label",5),r._uU(21,"mobile"),r.qZA(),r._UZ(22,"input",9),r.YNc(23,j,2,0,"span",7),r.qZA(),r.qZA(),r.TgZ(24,"div",3),r.TgZ(25,"div",4),r.TgZ(26,"label",5),r._uU(27,"CompanyName"),r.qZA(),r._UZ(28,"input",10),r.YNc(29,B,2,0,"span",7),r.qZA(),r.qZA(),r.TgZ(30,"div",3),r.TgZ(31,"div",4),r.TgZ(32,"label",5),r._uU(33,"CompanyAddress"),r.qZA(),r._UZ(34,"input",11),r.YNc(35,M,2,0,"span",7),r.qZA(),r.qZA(),r.TgZ(36,"div",3),r.TgZ(37,"div",4),r.TgZ(38,"label",5),r._uU(39,"CompanyType"),r.qZA(),r._UZ(40,"input",12),r.YNc(41,P,2,0,"span",7),r.qZA(),r.qZA(),r.TgZ(42,"div",3),r.TgZ(43,"div",4),r.TgZ(44,"label",5),r._uU(45,"Account Type"),r.qZA(),r.TgZ(46,"select",13),r.YNc(47,H,2,2,"option",14),r.qZA(),r.YNc(48,z,2,0,"span",7),r.qZA(),r.qZA(),r.TgZ(49,"div",3),r.TgZ(50,"div",4),r.TgZ(51,"label",5),r._uU(52,"Status"),r.qZA(),r.TgZ(53,"select",15),r.YNc(54,G,2,2,"option",14),r.qZA(),r.YNc(55,$,2,0,"span",7),r.qZA(),r.qZA(),r.TgZ(56,"div",3),r.TgZ(57,"div",4),r.TgZ(58,"label",5),r._uU(59,"Lines Number"),r.qZA(),r._UZ(60,"input",16),r.YNc(61,K,2,0,"span",7),r.qZA(),r.qZA(),r.TgZ(62,"div",3),r.TgZ(63,"div",4),r.TgZ(64,"label",5),r._uU(65,"Request Type"),r.qZA(),r.TgZ(66,"select",17),r.YNc(67,V,2,2,"option",14),r.qZA(),r.YNc(68,X,2,0,"span",7),r.qZA(),r.qZA(),r.TgZ(69,"div",3),r.TgZ(70,"div",4),r.TgZ(71,"label",5),r._uU(72,"Add Comment"),r.qZA(),r._UZ(73,"textarea",18),r.YNc(74,W,2,0,"span",7),r.qZA(),r.qZA(),r.qZA(),r.TgZ(75,"div",19),r.TgZ(76,"button",20),r._uU(77," update corporate Cutomer "),r.qZA(),r.qZA(),r.qZA(),r._UZ(78,"p-toast",21),r.qZA()),2&e&&(r.xp6(4),r.Q6J("formGroup",t.editCorporateForm),r.xp6(7),r.Q6J("ngIf",(null==t.AccountNumber?null:t.AccountNumber.invalid)&&(null==t.AccountNumber?null:t.AccountNumber.touched)&&!(null!=t.AccountNumber&&t.AccountNumber.dirty)),r.xp6(6),r.Q6J("ngIf",(null==t.name?null:t.name.invalid)&&(null==t.name?null:t.name.touched)&&!(null!=t.name&&t.name.dirty)),r.xp6(6),r.Q6J("ngIf",(null==t.mobile?null:t.mobile.invalid)&&(null==t.mobile?null:t.mobile.touched)&&!(null!=t.mobile&&t.mobile.dirty)),r.xp6(6),r.Q6J("ngIf",(null==t.CompanyName?null:t.CompanyName.invalid)&&(null==t.CompanyName?null:t.CompanyName.touched)&&!(null!=t.CompanyName&&t.CompanyName.dirty)),r.xp6(6),r.Q6J("ngIf",(null==t.CompanyAddress?null:t.CompanyAddress.invalid)&&(null==t.CompanyAddress?null:t.CompanyAddress.touched)&&!(null!=t.CompanyAddress&&t.CompanyAddress.dirty)),r.xp6(6),r.Q6J("ngIf",(null==t.CompanyType?null:t.CompanyType.invalid)&&(null==t.CompanyType?null:t.CompanyType.touched)&&!(null!=t.CompanyType&&t.CompanyType.dirty)),r.xp6(6),r.Q6J("ngForOf",t.AccountType),r.xp6(1),r.Q6J("ngIf",(null==t.CompanyType?null:t.CompanyType.invalid)&&(null==t.CompanyType?null:t.CompanyType.touched)&&!(null!=t.CompanyType&&t.CompanyType.dirty)),r.xp6(6),r.Q6J("ngForOf",t.customerStatus),r.xp6(1),r.Q6J("ngIf",(null==t.CompanyType?null:t.CompanyType.invalid)&&(null==t.CompanyType?null:t.CompanyType.touched)&&!(null!=t.CompanyType&&t.CompanyType.dirty)),r.xp6(6),r.Q6J("ngIf",(null==t.LinesNumber?null:t.LinesNumber.invalid)&&(null==t.LinesNumber?null:t.LinesNumber.touched)&&!(null!=t.LinesNumber&&t.LinesNumber.dirty)),r.xp6(6),r.Q6J("ngForOf",t.RequestTypes),r.xp6(1),r.Q6J("ngIf",(null==t.RequestTypes?null:t.RequestTypes.invalid)&&(null==t.RequestTypes?null:t.RequestTypes.touched)&&!(null!=t.RequestTypes&&t.RequestTypes.dirty)),r.xp6(6),r.Q6J("ngIf",(null==t.Comment?null:t.Comment.invalid)&&(null==t.Comment?null:t.Comment.touched)&&!(null!=t.Comment&&t.Comment.dirty)),r.xp6(2),r.Q6J("disabled",null==t.editCorporateForm?null:t.editCorporateForm.invalid))},directives:[Z._Y,Z.JL,Z.sg,Z.Fj,Z.JJ,Z.u,n.O5,Z.wV,Z.EJ,n.sg,b.FN,Z.YN,Z.Kr],styles:[""]}),e})()},{path:"info/:id",component:d},{path:"",redirectTo:"add-corp-cust",pathMatch:"full"}];let te=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[a.Bz.forChild(ee)],a.Bz]}),e})();var oe=o(9770);let ne=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[n.ez,te,oe.m]]}),e})()}}]);